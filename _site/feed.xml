<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Shan Jiang's hub</title>
    <description>Hi, I am Shan(@shanjiang21), a master student at Columbia University.</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 02 Apr 2019 10:51:53 -0400</pubDate>
    <lastBuildDate>Tue, 02 Apr 2019 10:51:53 -0400</lastBuildDate>
    <generator>Jekyll v3.8.5</generator>
    
      <item>
        <title>Beautiful Days in California</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;California is where you get to start over.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/cali1.jpg&quot; alt=&quot;cali1&quot; /&gt;&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/bNTMQ-I36kg&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Getting away from New York City, and travel for spring break means a lot to me.&lt;/p&gt;

&lt;p&gt;Starry night,
Comfortable temperature,
Nice drivers and servants,
The first day of arrival shall never be nicer.&lt;/p&gt;

&lt;p&gt;Nice spring break just started from the blue clear sky and green field. With freezes blowing from further hills, loneliness and fear just faded away from my heart, no worries or suspicious ideas would be generated as I am living in this moment.&lt;/p&gt;

&lt;p&gt;Fast and furious can be a salient feature for driving on the road across LA for sure. Even I was on board with my friend on a tour bus, I still feel the power to break restrictions and the freedom to embrace nature without any doubt.&lt;/p&gt;

&lt;p&gt;Los Angeles shall be labeled as a glamorous city, reminding me of the shiniest memories in the past. The palm trees are scattered around accompanied by big houses.&lt;/p&gt;

&lt;p&gt;Grown up in a Mountain area created more connections for me with this spacious place, there is no such a fever for skyscrapers as Los Angelas is built on an earthquake belt, which makes it more costly and challenging to construct high buildings than just a three story inn.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Danish town, a tiny niche, named Solvang, nestled in the Santa Ynez Valley that looks and smells like Christmas year-round.&lt;/p&gt;
</description>
        <pubDate>Mon, 01 Apr 2019 21:32:24 -0400</pubDate>
        <link>http://localhost:4000/2019/04/Beautiful-Days-in-California/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/04/Beautiful-Days-in-California/</guid>
        
        
      </item>
    
      <item>
        <title>996:Chinese young engineers</title>
        <description>&lt;p&gt;&lt;strong&gt;996 vs. ICU&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/.jpg&quot; alt=&quot;cali1&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&quot;http://zqb.cyol.com/html/2019-04/02/nw.D110000zgqnb_20190402_1-02.htm&quot;&gt;被“996”工作制围困的年轻人：像是定好闹钟的机器&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;What is 996?&lt;/p&gt;

&lt;p&gt;A “996” work schedule refers to an unofficial work schedule (9 a.m. ~ 9 p.m., 6 days per week) that has been gaining in popularity. Serving a company that encourages the “996” work schedule usually means working for at least 60 hours per week.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;What can I do?
Update this list with evidence to help every worker.
Add this badge to your project to support 996.ICU.
License your awesome projects with the 996ICU License.
Add proposals to give advise and suggestion about the development of 996.ICU.&lt;/p&gt;
</description>
        <pubDate>Mon, 01 Apr 2019 21:32:24 -0400</pubDate>
        <link>http://localhost:4000/2019/04/996-Chinese-young-engineers/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/04/996-Chinese-young-engineers/</guid>
        
        
      </item>
    
      <item>
        <title>ASA 2018 Economic sociology paper awards </title>
        <description>&lt;h1 id=&quot;asa-2018-经济社会学最佳文章盘点&quot;&gt;ASA 2018 经济社会学最佳文章盘点&lt;/h1&gt;

&lt;blockquote class=&quot;full-width&quot;&gt;&lt;p&gt;Statistical thinking will one day be as necessary for efficient citizenship as the ability to read and write.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;ASA，美国社会学协会，在全世界的社会学领域中享有盛名。目前，社会学协会分工完善，领域众多，其中发展较为完备，拥趸众多的当属——经济社会学。&lt;/p&gt;

&lt;p&gt;哥伦比亚大学的社会科学领域，一直是自由主义的天堂。这里兴起了最早期的性别研究，民主社会运动，但同时，哥大也是经济社会学重镇之一，虽然哥大的社会学系相对芝加哥大学，UCLA等相对较小，但是，哥大的教授们一直以来都活跃在比较前沿的交叉领域。&lt;/p&gt;

&lt;p&gt;今天虽然很忙，但是因为enroll了Machine learning和被同意audit 经济社会学，还是很感恩的。冒着熬通宵的危险，还是写完了这篇文章，可能就是拖延 : )&lt;/p&gt;

&lt;h4 id=&quot;格兰诺维特奖-最佳期刊&quot;&gt;格兰诺维特奖—— 最佳期刊&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;2018&lt;/strong&gt;: Nathan Wilmers, “Does Consumer Demand Reproduce Inequality? High-Income Consumers, Vertical Differentiation, and the Wage Structure,” &lt;em&gt;American Journal of Sociology&lt;/em&gt; 123(1):178-231. 2018.&lt;/p&gt;

&lt;p&gt;获得2018年格兰诺维特奖的最佳期刊，来自MIT sloan 管理学院社会学教授 Nathan Wilmers，他本科毕业于芝加哥大学哲学系，之后来到东海岸的哈佛攻读社会学Ph.D., 一路名校生涯，在博士期间，他选择的研究方向是劳动社会学，收入（薪酬福利）不平等，以及工会组织。&lt;/p&gt;

&lt;p&gt;他尝试着回答一些我们日常生活中那些困扰着普通人的柴米油盐的问题：&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;穷人会为住房负担更多么？Desmond, Matthew and Nathan Wilmers. forthcoming. “Do the Poor Pay More for Housing? Exploitation, Profit, and Risk in Rental Markets,” &lt;em&gt;American Journal of Sociology&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;消费者的需求会刺激产生更多的不平等么？Wilmers, Nathan. 2017. “Does Consumer Demand Reproduce Inequality? High-income Consumers, Vertical Differentiation and the Wage Structure,” American Journal of Sociology, 123: 178-231.&lt;/li&gt;
  &lt;li&gt;工会在劳动者们和公司谈判薪酬的时候真的有用么？Wilmers, Nathan. 2017. “Labor Unions as Activist Organizations: A Union Power Approach to Estimating Union Wage Effects,” Social Forces, 95: 1451-1478&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;他利用大量的实证资料证明了，从上世纪70年代开始，收入的不平等主要来自于不同公司涨薪的差异，而不是来自于不同员工的职位差异。&lt;/p&gt;

&lt;p&gt;在这篇文章中，他关注的是二战以来，美国经济依赖于高端消费群体的趋势逐渐增强。消费市场出现明显的市场分层，这样的消费趋势明显地将市场分割为分为上层和下层两个部分，并在造成了上层市场中形成了赢者通吃的局面。消费生活的分层也将导致基于产品质量和价格属性的差异的工业领域的分化。通过实证研究，结果表明，在那些更多依赖于高端消费群体的行业中，工资不平等出现的可能性更高，也印证了在以往研究中未曾涉及的一个不平等的新趋势： 消费差异的增大进一步&lt;strong&gt;增强&lt;/strong&gt;了工资不平等。&lt;/p&gt;

&lt;h4 id=&quot;泽利泽奖-最佳书籍&quot;&gt;泽利泽奖—— 最佳书籍&lt;/h4&gt;

&lt;p&gt;Yuen Yuen Ang：https://sites.lsa.umich.edu/yy-ang/&lt;/p&gt;

&lt;p&gt;她的自我描述是一名精神流浪者。她出生在新加坡，在美国学习成长，最后工作，但她的工作是研究中国，并了解世界。虽然她一直以来都以一种局外人(outsider)的眼光在践行着她的观察，但是她始终坚信：基本上这个星球上生活的所有人都有着共同的地方。&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;中国如何逃离中等收入陷阱？&lt;/strong&gt;她的这本书以毕加索的名言开篇：每一种创造行动的第一步，即毁灭。这本书为新兴市场国家指明了一条属于他们的躲避中等收入陷阱的道路：首先，控制好那些相对弱势的，但却常常违背政府的意愿，做出抵抗的社会制度和机构设置，一旦完成，这些国家就可以建立起自己的市场。然后，她指出，这些国家对于市场的适应这一过程，虽然对于长期发展非常关键，就却并不是自然而然就发生的。通过列举了市场适应环节中的三大常见障碍： Ang 确定了中国领导者们创造出了良好的环境，让大家可以摸着石头过河。&lt;/p&gt;

&lt;p&gt;现有的文献中很多学者都认为如今资本主义创造的繁荣，但实际上&lt;strong&gt;发展&lt;/strong&gt;是一种多实体共生的过程，时期更迭，国家和市场的互动也在不断变化。&lt;/p&gt;

&lt;h4 id=&quot;博特奖-最佳学生论文&quot;&gt;博特奖—— 最佳学生论文&lt;/h4&gt;

&lt;p&gt;&lt;strong&gt;2018&lt;/strong&gt;: Barbara Kiviat, Harvard University, “The Art of Deciding with Data: Evidence from how Employers Translate Credit Reports into Hiring Decisions,” &lt;em&gt;Socio-Economic Review&lt;/em&gt; mwx030. 2017.&lt;/p&gt;

&lt;p&gt;在美国生活，少不了和银行打交道。与中国不同，美国是一个高度系统化的信用社会，这篇文章就是通过和57位专职招聘的公司代表们的访谈，来调查日常经济生活的重要记录——信用报告，如何影响个人就业，以及其对于不同种族，年龄，和社会地位的个人的影响。&lt;/p&gt;

&lt;p&gt;信用历史记录（credit history）与个人生活息息相关，美国现在主要有三大信用报告机构（&lt;em&gt;credit reporting&lt;/em&gt; agencies), 银行、收债人、政府等都会主动将与个人信用相关的信息，包括信用卡/信贷账户信息、贷款金额、还款记录、欠款记录等等上报到三大机构；而三大机构则会将这些信息综合整理成条理分明的信用报告（credit report），日后银行和借贷机构也会通过这些信用报告来评估借贷人的信用度，用来审批贷款等项目。&lt;/p&gt;

&lt;p&gt;信用报告对个人非常重要，关系到贷款利率的高低，贷款买房，买车的成功率。信用积分则是各个机构根据信用报告的明细，通过一定公式计算出来的、比较通俗易懂的、评定个人信用好坏的标准。现时美国最为通用普遍的是由Fair Isaac Corporation公司（简称FICO）制定出来的&lt;strong&gt;FICO Score&lt;/strong&gt;信用评分系统。&lt;/p&gt;

&lt;p&gt;简而言之，信用报告中的信息很大程度上决定了每个人在社会中能获取的经济资源，不光是保险，住房，甚至对工作也非常重要。超过一半的美国公司人事会在雇人的时候参考候选人的信用报告。但是在这一过程中，信用历史如何影响雇主的决策还是一个黑箱。信用报告反映的不光只是一个量化的分数，这几乎反映了一个人的经济史：信用卡账户，住房贷款，职业变动，学生学费贷款，医疗账单，以及经济类诉讼案件结果。&lt;/p&gt;
</description>
        <pubDate>Wed, 23 Jan 2019 19:38:24 -0500</pubDate>
        <link>http://localhost:4000/2019/01/ASA-2018-Economic-sociology-paper-awards/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/01/ASA-2018-Economic-sociology-paper-awards/</guid>
        
        
      </item>
    
      <item>
        <title>Missing data mean imputation</title>
        <description>&lt;h2 id=&quot;missing-data-techniques--缺失值处理可以用均值填补么&quot;&gt;Missing-data Techniques | 缺失值处理，可以用均值填补么？&lt;/h2&gt;

&lt;h3 id=&quot;1-背景-overview&quot;&gt;1. 背景:	Overview&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;看到社科院社会学系博士招生题里面的一道问题下图简答题第三问，我觉得虽然看起来很基础，但是细细思考，可以说是考察了统计的一些核心概念，实际操作性很强，因此我花了一些时间系统整理了缺失值处理的主流方法，最后用了断断续续将近一周完成这篇文章，希望能够有所启发。&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/screenshot.jpg&quot; alt=&quot;社科院phd&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Missing data arise in almost all serious statistical analyses. We discuss a variety of methods to handle missing data, including some relatively simple approaches that can often yield reasonable results. We use as a running example the Social Indicators Survey&lt;sup id=&quot;fnref:1&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, a telephone survey of New York City families conducted every two years by the Columbia University School of Social Work. Nonresponse in this survey is a distraction to our main goal of studying trends in attitudes and economic conditions, and we would like to simply clean the dataset so it could be analyzed as if there were no missingness.&lt;/p&gt;

&lt;p&gt;缺失值处理在统计分析中十分重要，在这篇文章中, 几种常见的缺失值处理办法将会被清晰展示，我们在本文中将会使用社会指标调查，这项调查是由哥大社会工作学院所进行的一项针对纽约市居民家庭的电话调查，每两年举行一次，调查中的无应答数据将会成为我们研究经济地位和行为态度的阻碍，因此我们需要进行合理的数据清理。&lt;/p&gt;

&lt;h4 id=&quot;missing-data-in-r&quot;&gt;&lt;em&gt;Missing data in R&lt;/em&gt;&lt;/h4&gt;

&lt;p&gt;In R, missing values are indicated by NA’s. For example, to see some of the data from five respondents in the data file for the Social Indicators Survey (arbitrarily picking rows 91–95), we type&lt;/p&gt;

&lt;p&gt;在R中，缺失数据是以NA形式储存的，注意R里面还有&lt;strong&gt;NaN&lt;/strong&gt; ，代表的含义是Not a Number，即不是数字形式。我们从数据中取出前10行，观察数据的缺失值情况：&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;head(sis_df,10)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/Users/shan/Desktop/Screen Shot 2019-01-05 at 17.54.40.png&quot; alt=&quot;R output&quot; /&gt;&lt;/p&gt;

&lt;p&gt;数据中出现了大量的&lt;strong&gt;NA&lt;/strong&gt;，需要我们根据实际含义来进行选择和插值。&lt;/p&gt;

&lt;p&gt;In classical regression (as well as most other models), R automatically excludesall cases in which any of the inputs are missing; this can limit the amount of information available in the analysis, especially if the model includes many inputs with potential missingness. This approach is called a &lt;strong&gt;complete-case analysis&lt;/strong&gt;, and
we discuss some of its weaknesses below.&lt;/p&gt;

&lt;p&gt;通常情况下，在传统回归分析以及很多其他的模型中，R会自动排除那些含有缺失值的案例，我们整体的信息利用效率会大打折扣，特别是如果在包含很多变量但缺失严重的数据中，会造成非常大的information bias，这样的分析方法被称为完整案例分析，它的缺点显而易见。&lt;/p&gt;

&lt;p&gt;Things become more difficult when predictors have missing values. For example, if we wanted to model attitudes toward the police, given earnings and demographic predictors, then the model would not automatically account for the missing values of earnings. We would have to remove the missing values, impute them, or model them.&lt;/p&gt;

&lt;p&gt;事实上，在因变量中包含缺失值的情况下，处理就变得更加棘手了。举例而言，如果我们通过观察人们对于警察的态度，来研究和人们收入以及其它一些人口学特征的关系，建模过程自动就会排除那些缺失了收入情况的案例。我们必须要想办法：移除缺失值，或者插值，或是寻找合适的模型。&lt;/p&gt;

&lt;h3 id=&quot;2-缺失值分类missing-data-mechanisms&quot;&gt;2. 缺失值分类：Missing-data mechanisms&lt;/h3&gt;

&lt;p&gt;To decide how to handle missing data, it is helpful to know why they are missing. We consider four general “missingness mechanisms,” moving from the simplest to the most general.&lt;/p&gt;

&lt;p&gt;首先我们需要了解为什么数据里面会产生缺失值，系统性的还是随机的？&lt;/p&gt;

&lt;h4 id=&quot;1-完全随机的缺失值completely-at-random&quot;&gt;1	完全随机的缺失值：Completely at random&lt;/h4&gt;

&lt;p&gt;Missingness completely at random. A variable is missing completely at random if the probability of missingness is the same for all units, for example, if each survey respondent decides whether to answer the “earnings” question by rolling a die and refusing to answer if a “6” shows up. If data are missing completely at random, then throwing out cases with missing data does not bias your inferences.&lt;/p&gt;

&lt;p&gt;完全随机的缺失值。当一个变量的所有抽样单位缺失概率相同时，即为完全随机缺失。比如说：如果每个被访者都采取掷骰子的方式来决定是否回答关于收入的问题，如果这枚骰子朝上的数字为6，概率为$\frac{1}{6}$, 那么如果收集过程中缺失产生是完全随机的，我们就可以直接采用完整案例分析，这样做不会产生偏倚，从而我们可以进行统计推断。&lt;/p&gt;

&lt;h4 id=&quot;2-部分随机的缺失值missingness-at-random&quot;&gt;2	部分随机的缺失值：Missingness at random&lt;/h4&gt;

&lt;p&gt;Missingness at random. Most missingness is not completely at random, as can be seen from the data themselves. For example, the different nonresponse rates for whites and blacks indicate that the “earnings” question in the Social Indicators Survey is not missing completely at random.&lt;/p&gt;

&lt;p&gt;部分随机的缺失值。大多数的缺失值的产生不是完全随机的，我们可以从数据本身的观察看出来。举例而言，SIS数据中黑人和白人两个种族的不同的非应答率，就是系统性的差异，整体而言缺失值的产生：90%归功于系统性差异，10%归因于随机误。&lt;/p&gt;

&lt;p&gt;A more general assumption, missing at random, is that the probability a variable is missing depends only on available information. Thus, if sex, race, education, and age are recorded for all the people in the survey, then “earnings” is missing at random if the probability of nonresponse to this question depends only on these other, fully recorded variables. It is often reasonable to model this process as a logistic regression, where the outcome variable equals 1 for observed cases and 0 for missing.&lt;/p&gt;

&lt;p&gt;一个更加普遍的假设，随机缺失，就是说一个变量只和手头现有信息中的这些因素相关. 因此，如果在调查中的性别，种族，教育和年龄都被完整地记录下来了，那么如果&lt;strong&gt;收入&lt;/strong&gt;只与以上这些完整记录的因素相关，那么这道问题非应答率的缺失是随机的。这个过程中我们经常采用的是&lt;strong&gt;逻辑回归&lt;/strong&gt;(Logistic Regression),  因为我们将会采用0-1编码的方式，1 = 观察值存在，0 = 观察值缺失。&lt;/p&gt;

&lt;p&gt;When an outcome variable is missing at random, it is acceptable to exclude the missing cases (that is, to treat them as NA’s), as long as the regression controls for all the variables that affect the probability of missingness. Thus, any model for earnings would have to include predictors for ethnicity, to avoid nonresponse bias.&lt;/p&gt;

&lt;p&gt;当因变量中的数据随机缺失，只要回归建模中，我们对于影响因变量缺失的自变量加以控制，我们可以直接排除那些缺失的记录(one row/entry in data)，直接将他们当作缺失值处理。 因此，任意收入模型都需要纳入&lt;strong&gt;种族&lt;/strong&gt;这一变量，避免非应答偏倚。&lt;/p&gt;

&lt;p&gt;This missing-at-random assumption (a more formal version of which is some- times called the ignorability assumption) in the missing-data framework is the basically same sort of assumption as ignorability in the causal framework. Both require that sufficient information has been collected that we can “ignore” the assignment mechanism (assignment to treatment, assignment to nonresponse).&lt;/p&gt;

&lt;p&gt;这种随机缺失的假设(更加正式的说法可能是：“可忽视”假设)在缺失数据分析框架中，基本上与因果推断中的“可忽视”假设一致。两种假设都要求数据的完整性，才能让我们能够“忽视”随机分配机制的影响(随机分配到实验组，随机分配到非应答)&lt;/p&gt;

&lt;h4 id=&quot;3--受未观测变量影响的缺失值missingness-depending-on-unobserved-predictors&quot;&gt;3 	受未观测变量影响的缺失值：Missingness depending on unobserved predictors&lt;/h4&gt;

&lt;p&gt;Missingness that depends on unobserved predictors. Missingness is no longer “at random” if it depends on information that has not been recorded and this information also predicts the missing values. For example, suppose that “surly” people are less likely to respond to the earnings question, surliness is predictive of earnings, and “surliness” is unobserved. Or, suppose that people with college degrees are less likely to reveal their earnings, having a college degree is predictive of earnings, and there is also some nonresponse to the education question. Then, once again, earnings are not missing at random.&lt;/p&gt;

&lt;p&gt;缺失值受未被观测到的自变量影响。如果缺失受那些未被观测或记录下的潜在因素的影响，那些未被观测或记录的数据便会产生缺失值，&lt;strong&gt;缺失&lt;/strong&gt;便不再是随机的。举例而言，假设说一部分“&lt;strong&gt;坏脾气&lt;/strong&gt;”的人回答收入问题的可能性更低，那么坏脾气就可以作为影响收入的一项预测指标，但实际上&lt;strong&gt;坏脾气&lt;/strong&gt;这个变量却并没有被收集到数据集中。或者说，换个例子，有&lt;strong&gt;大学学位&lt;/strong&gt;的人，向访问员披露收入的可能性更低，大学学位也成为影响收入预测准确性的因素，但是在数据中有不少人没有回答教育程度这一变量的相关问题。于是，我们可以看到在这个例子中，收入变量也&lt;strong&gt;不&lt;/strong&gt;再是随机缺失的了。&lt;/p&gt;

&lt;p&gt;A familiar example from medical studies is that if a particular treatment causes discomfort, a patient is more likely to drop out of the study. This missingness is not at random (unless “discomfort” is measured and observed for all patients). If missingness is not at random, it must be explicitly modeled, or else you must accept some bias in your inferences.&lt;/p&gt;

&lt;p&gt;一个大家比较熟悉的例子来自医学研究。如果某一项治疗导致了不适，病人可能会更可能退出研究，这种缺失并不是完全随机的(除非我们可以收集所有病人的舒适程度这一变量的数据)，如果缺失并不是随机出现的，建模过程中我们必须清楚地将这一影响展示出来，要不然我们只能坐等推断中的偏倚出现了。&lt;/p&gt;

&lt;h4 id=&quot;4--受自身影响的缺失值missingness-depending-on-the-missing-value-itself&quot;&gt;4 	受自身影响的缺失值：Missingness depending on the missing value itself&lt;/h4&gt;

&lt;p&gt;Missingness that depends on the missing value itself. Finally, a particularly difficult situation arises when the probability of missingness depends on the (potentially missing) variable itself. For example, suppose that people with higher earnings are less likely to reveal them. In the extreme case (for example, all per- sons earning more than $100,000 refuse to respond), this is called &lt;strong&gt;censoring&lt;/strong&gt;, but even the probabilistic case causes difficulty.&lt;/p&gt;

&lt;p&gt;最后一部分，我们将谈到受自身缺失影响的缺失值。当某一变量缺失(可能缺失)的概率依赖于其自身，就会出现这种比较难处理的情况。举例而言，假设&lt;strong&gt;高收入&lt;/strong&gt;的人群更倾向于不向采访者披露他们的收入。在极端情况下(比方说：所有收入超过10万美元的都拒绝回答)，这就叫做&lt;strong&gt;删失&lt;/strong&gt;，即便不是一定发生，是有可能发生，都会造成极大的困难。&lt;/p&gt;

&lt;p&gt;Censoring and related missing-data mechanisms can be modeled or else mitigated by including more predictors in the missing-data model and thus bringing it closer to missing at random. For example, whites
and persons with college degrees tend to have higher-than-average incomes, so controlling for these predictors will somewhat—but probably only somewhat—correct for the higher rate of nonresponse among higher-income people. More generally, while it can be possible to predict missing values based on the other variables in your dataset, just as with other missing-data mechanisms, this situation can be more complicated in that the nature of the missing-data mechanism may force these predictive models to extrapolate beyond the range of the observed data.&lt;/p&gt;

&lt;p&gt;删失和其它一些可能导致数据缺失的机制可以通过建模或其它一些办法(包括向缺失数据模型中增加自变量等办法) 来使得结果更加逼近随机缺失情况下的结果。举例而言，白人和拥有大学学位的人相对于其他人而言，收入有可能更高，因此控制这些变量影响将会修正-但只是有限度地修正-高收入人群中的高缺失率的影响。 更加普遍的情况是，虽然有可能通过数据中的其他变量来预测缺失值，但正如其他缺失值情形一样，这种情况可能更为复杂，因为缺失数据机制可能会迫使那些预测模型，做出超过观测值本身的推断。&lt;/p&gt;

&lt;p&gt;####&lt;em&gt;General impossibility of proving that data are missing at random&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;As discussed above, missingness at random is relatively easy to handle—simply include as regression inputs all variables that affect the probability of missingness. Unfortunately, we generally cannot be sure whether data really are missing at random, or whether the missingness depends on unobserved predictors or the missing data themselves. The fundamental difficulty is that these potential “lurking variables” &lt;sup id=&quot;fnref:2&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;are unobserved—by definition—and so we can never rule them out. We generally must make assumptions, or check with reference to other studies (for example, surveys in which extensive follow-ups are done in order to ascertain the earnings of nonrespondents).&lt;/p&gt;

&lt;p&gt;正如之前提到的，随机缺失相对容易处理，只要在回归分析中将所有影响缺失的变量纳入回归模型中即可。不幸的是，一般而言，我们无法确定数据是完全随机缺失的，还是部分随机缺失的(受某些因素，如种族的系统性影响)，还是受到未观测变量影响的缺失，抑或是受自身影响的缺失。我们必须面对的一项基本的困难是我们并没有收集那些&lt;strong&gt;潜变量&lt;/strong&gt;的相关数据，因此我们永远没有办法将它们排除在模型外。 通常，我们必须做出假设，或者查找相关文献(比方说，通过大量的追踪研究中的调查数据来确定影响那些收入缺失值的因素)。&lt;/p&gt;

&lt;p&gt;In practice, we typically try to include as many predictors as possible in a model so that the “missing at random” assumption is reasonable. For example, it may be a strong assumption that nonresponse to the earnings question depends only on sex, race, and education—but this is a lot more plausible than assuming that the probability of nonresponse is constant, or that it depends only on one of these predictors.&lt;/p&gt;

&lt;p&gt;实际生活中，我们经常会通过尽可能地增加自变量的方式来满足&lt;strong&gt;随机缺失&lt;/strong&gt;这一假设。比方说，拒绝回答收入问题仅仅受性别，种族和教育的影响就很有可能是一个很强有力的假设，但是如果我们将拒绝回答收入问题看作一个&lt;strong&gt;变量&lt;/strong&gt;而非&lt;strong&gt;常量&lt;/strong&gt;，或者相对于只观察这三个变量中的其中某一个而言，我们的研究假设可能比他们的更合理。&lt;/p&gt;

&lt;h3 id=&quot;3缺失值处理&quot;&gt;3.缺失值处理&lt;/h3&gt;

&lt;h3 id=&quot;1直接剔除法missing-data-methods-that-discard-data&quot;&gt;(1)直接剔除法：&lt;em&gt;Missing-data methods that discard data&lt;/em&gt;&lt;/h3&gt;

&lt;h4 id=&quot;1完整案例分析complete-case-analysis&quot;&gt;1.完整案例分析：&lt;em&gt;Complete-case analysis&lt;/em&gt;&lt;/h4&gt;

&lt;p&gt;A direct approach to missing data is to exclude them. In the regression context, this usually means complete-case analysis: excluding all units for which the outcome or any of the inputs are missing. In R, this is done automatically for classical regressions (data points with any missingness in the predictors or outcome are ignored by the regression).&lt;/p&gt;

&lt;p&gt;一种直接的方法就是直接将它们从数据集中拿掉。在回归分析中，最常见的就是&lt;strong&gt;完整案例分析&lt;/strong&gt;：排除所有自变量/因变量含有缺失值的记录。在R中，这一步骤是自动完成的，任意含有缺失值的数据点，无论是自变量还是因变量都会被自动排除。&lt;/p&gt;

&lt;p&gt;Two problems arise with complete-case analysis:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;完整案例分析&lt;/strong&gt;会造成的两类问题：&lt;/p&gt;

&lt;h5 id=&quot;问题一probelm-1&quot;&gt;问题一：Probelm 1.&lt;/h5&gt;

&lt;p&gt;If the units with missing values differ systematically from the completely observed cases, this could bias the complete-case analysis.&lt;/p&gt;

&lt;p&gt;如果含有缺失值的数据和那些排除缺失值的完整数据存在系统性的差异(如种族)，那么就会造成偏倚。&lt;/p&gt;

&lt;h5 id=&quot;问题二probelm-2&quot;&gt;问题二：Probelm 2.&lt;/h5&gt;

&lt;p&gt;If many variables are included in a model, there may be very few complete cases, so that most of the data would be discarded for the sake of a simple analysis.&lt;/p&gt;

&lt;p&gt;如果模型中包含很多变量，那么数据中全部完整的案例就会非常少，因此为了实现回归分析，大多数的数据可能就会在处理过程中被自动丢弃。&lt;/p&gt;

&lt;h4 id=&quot;2现存案例分析available-case-analysis&quot;&gt;2.现存案例分析：&lt;em&gt;Available-case analysis&lt;/em&gt;&lt;/h4&gt;

&lt;p&gt;Another simple approach is available-case analysis, where different aspects of a problem are studied with different subsets of the data. For example, in the 2001 Social Indicators Survey, all 1501 respondents stated their education level, but 16% refused to state their earnings. We could thus summarize the distribution of education levels of New Yorkers using all the responses and the distribution of earnings using the 84% of respondents who answered that question. This approach has the problem that different analyses will be based on different subsets of the data and thus will not necessarily be consistent with each other.&lt;/p&gt;

&lt;p&gt;In addition, as with complete-case analysis, if the nonrespondents differ systematically from the respondents, this will bias the available-case summaries. For example in the Social Indicators Survey, 90% of African Americans but only 81% of whites report their earnings, so the “earnings” summary represents a different population than the “education” summary.&lt;/p&gt;

&lt;p&gt;另一种简单办法就是&lt;strong&gt;现存案例分析&lt;/strong&gt;，通过利用数据的不同子集来研究不同的问题，各个击破。在2001年的社会指标调查(SIS)中，总共1501名被访者告知了他们的受教育程度，但是仍有16%拒绝回答他们的收入情况。因此我们在分析时，可分析样本的受教育程度的分布情况和收入情况，但就收入情况而言，我们只能使用84%的样本数据。&lt;/p&gt;

&lt;p&gt;This approach has the problem that different analyses will be based on different subsets of the data and thus will not necessarily be consistent with each other. In addition, as with complete-case analysis, if the nonrespondents differ systematically from the respondents, this will bias the available-case summaries. For example in the Social Indicators Survey, 90% of African Americans but only 81% of whites report their earnings, so the “earnings” summary represents a different population than the “education” summary.&lt;/p&gt;

&lt;p&gt;这一方法的问题在于：操作上我们可以使用数据的不同子集进行不同问题的分析，但最终得到的结果却不一定彼此一致。此外，与完整案例分析相似，如果拒绝回答者和回答者存在系统性的差异，那么统计分析将会产生偏倚。比方说在 社会指标调查(SIS)中，&lt;strong&gt;90%&lt;/strong&gt;的非裔美国人和&lt;strong&gt;81%&lt;/strong&gt;的白人报告了他们的收入情况，所以在研究收入情况采用的样本和我们的研究总体并不一致。&lt;/p&gt;

&lt;p&gt;Available-case analysis also arises when a researcher simply excludes a variable or set of variables from the analysis because of their missing-data rates (sometimes called “complete-variables analyses”). In a causal inference context (as with many prediction contexts), this may lead to omission of a variable that is necessary to satisfy the assumptions necessary for desired (causal) interpretations.&lt;/p&gt;

&lt;p&gt;当一位研究者通过分析，简单地通过缺失率的高低来排除一个或者多个变量时(这种方式有时也被叫做&lt;strong&gt;完整变量&lt;/strong&gt;分析)，采用现存案例分析比较合适。在因果推断(和一些预测)中，这样的处理办法可能会造成：遗漏某些对于满足整体因果关系分析假设十分必要的变量，没有这些变量我们无法做出预期的因果解释。&lt;/p&gt;

&lt;h4 id=&quot;3-赋予缺失值样本权重nonresponse-weighting&quot;&gt;3. 赋予缺失值样本权重：&lt;em&gt;Nonresponse weighting&lt;/em&gt;&lt;/h4&gt;

&lt;p&gt;As discussed previously, complete-case analysis can yield biased estimates because the sample of observations that have no missing data might not be representative of the full sample. Is there a way of reweighting this sample so that representativeness is restored?&lt;/p&gt;

&lt;p&gt;正如之前讨论过的，由于排除了缺失值的样本观测值无法代表我们的研究样本，完整案例分析会导致有偏估计。有什么办法可以&lt;strong&gt;重新赋予样本权重&lt;/strong&gt;，以增强样本的代表性么？&lt;/p&gt;

&lt;p&gt;Suppose, for instance, that only one variable has missing data. We could build a model to predict the nonresponse in that variable using all the other variables. The inverse of predicted probabilities of response from this model could then be used as survey weights to make the complete-case sample representative (along the dimensions measured by the other predictors) of the full sample. This method becomes more complicated when there is more than one variable with missing data. Moreover, as with any weighting scheme, there is the potential that standard errors will become erratic if predicted probabilities are close to 0 or 1.&lt;/p&gt;

&lt;p&gt;假设，在数据集中只有一个变量含有缺失值。我们可以利用其他剩余的所有变量来建模估计这个含有缺失值的变量的非应答。从这一模型中估计出的&lt;strong&gt;概率的倒数&lt;/strong&gt;之后就可以被用作调整调查的权重，使得我们最终从完整案例分析得到的样本分析更加具有代表性。当数据中存在不止一个变量含有缺失值时，这种方法变得更加复杂。此外，和很多赋权重的方法类似，如果预测的概率接近0或者1，标准误可能会变得很不稳定。&lt;/p&gt;

&lt;h3 id=&quot;2-单一插补法simple-missing-data-approaches-that-retain-all-the-data&quot;&gt;(2) 单一插补法：&lt;em&gt;Simple missing-data approaches that retain all the data&lt;/em&gt;&lt;/h3&gt;

&lt;p&gt;Rather than removing variables or observations with missing data, another approach is to fill in or “impute” missing values. A variety of imputation approaches can be used that range from extremely simple to rather complex. These methods keep the full sample size, which can be advantageous for bias and precision; however, they can yield different kinds of bias, as detailed in this section.&lt;/p&gt;

&lt;p&gt;除了直接剔除那些含有缺失值的变量或是观测值的办法，另一种办法就是&lt;strong&gt;填补&lt;/strong&gt;或是&lt;strong&gt;插补&lt;/strong&gt;缺失值。在统计学中，一系列的插补方法，简单地，到相当复杂的都存在。这些方法会保留完整的样本容量，使得偏误缩小，精确性提高。然而，这些却会产生很多不同种类的偏误，以下会详细谈到。&lt;/p&gt;

&lt;p&gt;Whenever a single imputation strategy is used, the standard errors of estimates tend to be too low. The intuition here is that we have substantial uncertainty about the missing values, but by choosing a single imputation we in essence pretend that we know the true value with certainty.&lt;/p&gt;

&lt;p&gt;当某一种特定的插值方法被用到的时候，估计值的标准误会变得异乎寻常地&lt;strong&gt;低&lt;/strong&gt;。我们可以这样理解：当我们对于缺失值有非常大的不确定性的时候，通过选择某一种单一的插值方法，我们实际上装作我们肯定地知道真实值。&lt;/p&gt;

&lt;h4 id=&quot;1-均值插补法mean-imputation&quot;&gt;1. 均值插补法：&lt;u&gt;*Mean imputation*&lt;/u&gt;&lt;/h4&gt;

&lt;p&gt;Perhaps the easiest way to impute is to replace each missing value with the mean of the observed values for that variable. Unfortunately, this strategy can severely distort the distribution for this variable, leading to complications with summary measures including, notably, underestimates of the standard deviation. Moreover, mean imputation distorts relationships between variables by “pulling” estimates of the correlation toward zero.&lt;/p&gt;

&lt;p&gt;均值插补法。可能最简单的办法就是用某一个变量的均值去插补缺失值。不巧的是，这种方法可能会严重地扭曲变量的分布情况，导致一系列“并发症”：此外，均值插补改变了变量之间的相关关系，导致线性相关的估计值(r)趋近于0.&lt;/p&gt;

&lt;p&gt;It has the benefit of not changing the sample mean for that variable. However, mean imputation attenuates any correlations involving the variable(s) that are imputed. This is because, in cases with imputation, there is guaranteed to be no relationship between the imputed variable and any other measured variables. Thus, mean imputation has some attractive properties for univariate analysis but becomes problematic for multivariate analysis.&lt;/p&gt;

&lt;p&gt;均值插补法的优点是，能够保证在插值之后，某一特定的变量的均值保持不变。因此，在统计分析中，均值插值比较适合&lt;strong&gt;单变量分析&lt;/strong&gt;，但是对于在&lt;strong&gt;多元分析&lt;/strong&gt;中，我们无法知晓是否被插值的变量与其他变量之间相关，均值插值会导致变量间的关系被低估。&lt;/p&gt;

&lt;h4 id=&quot;2-末次观测值转结法last-value-carried-forward&quot;&gt;2. 末次观测值转结法：&lt;u&gt;*Last value carried forward*&lt;/u&gt;&lt;/h4&gt;

&lt;p&gt;In evaluations of interventions where pre-treatment measures of the outcome variable are also recorded, a strategy that is sometimes used is to replace missing outcome values with the pre-treatment measure. This is often thought to be a conservative approach (that is, one that would lead to underestimates of the true treatment effect).&lt;/p&gt;

&lt;p&gt;末次观测值转结法(LOCF)。这是临床试验中最常用的一种缺失数据的处理方法。它是利用对研究对象前进行干预前的最后一次的观测值来进行填补缺失值。这种方法经常被视作非常保守的一种方法(就是说，可能会导致对于真实干预影响的低估)。&lt;/p&gt;

&lt;p&gt;However, there are situations in which this strategy can be anticonservative. For instance, consider a randomized evaluation of an intervention that targets couples at high risk of HIV infection. From the &lt;strong&gt;regression-to-the-mean&lt;/strong&gt; phenomenon, we might expect a reduction in risky behavior even in the absence of the randomized experiment; therefore, carrying the last value forward will result in values that look worse than they truly are. Differential rates of missing data across the treatment and control groups will result in biased treatment effect estimates that are anticonservative.&lt;/p&gt;

&lt;p&gt;然而，在某些情况下，这种方法可能并不是保守的。举例而言，当我们评价某一个HIV病毒感染风险的干预措施时，由于存在「回归到平均值」的现象的存在，我们可能会预期即便没有干预措施的存在，高风险行为也会降低。因此，末次观测值转结法会导致插补的值比真实值表现更差。在干预过程中，控制组和对照组二者数据中缺失比例的差别，将会产生有偏误的，并非保守的治疗效应估计值。&lt;/p&gt;

&lt;h4 id=&quot;3-相似观察值插补法using-information-from-related-observations&quot;&gt;3. 相似观察值插补法：&lt;u&gt;*Using information from related observations*&lt;/u&gt;&lt;/h4&gt;

&lt;p&gt;Suppose we are missing data regarding the income of fathers of children in a dataset. Why not fill these values in with mother’s report of the values? This is a plausible strategy, although these imputations may propagate measurement error. Also we must consider whether there is any incentive for the reporting person to misrepresent the measurement for the person about whom he or she is providing information.&lt;/p&gt;

&lt;p&gt;假设我们在数据中缺失了家庭中孩子的父亲的收入数据。为什么我们不可以用母亲的收入数据来填补呢？这是一个看上去比较合理的办法，虽然这些插补的值可能会增大观测误差。同样地，我们必须考虑是否有可能存在这样的情况：我们询问的被访者有着某种动机或是激励，促使他提供相关人的信息(可能会导致信息的歪曲)。&lt;/p&gt;

&lt;p&gt;&lt;u&gt;Indicator variables for missingness of categorical predictors.&lt;/u&gt; For unordered categorical predictors, a simple and often useful approach to imputation is to &lt;strong&gt;add an extra category&lt;/strong&gt; for the variable indicating missingness.&lt;/p&gt;

&lt;p&gt;在&lt;strong&gt;分类变量&lt;/strong&gt;缺失情况下的&lt;strong&gt;指示变量&lt;/strong&gt;。对于无序的分类变量，一种简单的，但是非常有效的方法就是利用插补去额外增加一个分类表示缺失。&lt;/p&gt;

&lt;p&gt;&lt;u&gt;Indicator variables for missingness of continuous predictors.&lt;/u&gt; A popular approach in the social sciences is to include for each continuous predictor variable with missingness an extra indicator identifying which observations on that variable have missing data. Then the missing values in the partially observed predictor are re- placed by zeroes or by the mean (this choice is essentially irrelevant). This strategy is prone to yield biased coefficient estimates for the other predictors included in the model because it forces the slope to be the same across both missing-data groups. Adding interactions between an indicator for response and these predictors can help to alleviate this bias (this leads to estimates similar to complete-case estimates).&lt;/p&gt;

&lt;p&gt;在&lt;strong&gt;连续变量&lt;/strong&gt;缺失情况下的指示变量。社会科学中，一种非常主流的办法就是通过。&lt;/p&gt;

&lt;p&gt;增加交互项，&lt;/p&gt;

&lt;p&gt;这种办法很有可能产生有偏的系数估计值，因为其他的因变量&lt;/p&gt;

&lt;p&gt;Imputation based on logical rules. Sometimes we can impute using logical rules: for example, the Social Indicators Survey includes a question on “number of months worked in the previous year,” which all 1501 respondents answered. Of the persons who refused to answer the earnings question, 10 reported working zero months during the previous year, and thus we could impute zero earnings to them. This type of imputation strategy does not rely on particularly strong assumptions since, in effect, the missing-data mechanism is known.&lt;/p&gt;

&lt;p&gt;按照逻辑来插补。有时我们需要利用逻辑来插值：比如说，社会指标调查中有一个问题“在过去的一年中，你工作了几个月？”，所有的被访谈者都有回答。在那些拒绝回答关于收入问题的被访者中，十个人在过去一年中工作的时间为0个月，意味着过去一年他们没有任何工作，因此我们可以为这10个人的收入插值0。这种插值的办法并不依赖于特定的假设，因为实际上我们知道缺失是怎么发生的。&lt;/p&gt;

&lt;h3 id=&quot;random-imputation-of-a-single-variable&quot;&gt;Random imputation of a single variable&lt;/h3&gt;

&lt;p&gt;When more than a trivial fraction of data are missing, however, we prefer to perform imputations more formally. In order to understand missing-data imputation, we start with the relatively simple setting in which missingness is confined to a single variable, y, with a set of variables X that are observed on all units. We shall consider the case of imputing missing earnings in the Social Indicators Survey.&lt;/p&gt;

&lt;p&gt;然而，当数据集中的缺失值相对较多的时候，我们更倾向于使用正式的插值方法。为了理解插值方法，我们先通过一个简单的例子：仅在一个变量y中存在缺失值，x的所有变量都是完整的。我们希望研究社会指标调查的收入缺失值，对它插值。&lt;/p&gt;

&lt;h4 id=&quot;r的实现r-code&quot;&gt;R的实现：R code&lt;/h4&gt;

&lt;p&gt;The simplest approach is to impute missing values of earnings based on the observed data for this variable. 最简单的办法就是基于变量中已有数据插值。&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;# function of random imputation
random.imp &amp;lt;- function (a){
	missing &amp;lt;- is.na(a)
	n.missing &amp;lt;- sum(missing)
	a.obs &amp;lt;- a[!missing]
	imputed &amp;lt;- a
	imputed[missing] &amp;lt;- sample (a.obs, n.missing, replace=TRUE)

    return (imputed)
}

# create a completed data vector of earnings
earnings.imp &amp;lt;- random.imp (earnings)

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Zero coding and topcoding&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;topcode &amp;lt;- function (a, top)
{ return (ifelse (a&amp;gt;top, top, a))
}
earnings.top &amp;lt;- topcode (earnings, 100) hist (earnings.top[earnings&amp;gt;0])
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;model-based-imputation&quot;&gt;Model-based imputation&lt;/h3&gt;

&lt;p&gt;where $y_i$ is the observed waiting time for case i, $z_i $ is the ultimate waiting time, and $t_i$ is the year of sentencing. We shall not analyze these data further here; we have introduced this example just to illustrate the complexities that arise in realistic censoring situations. The actual analysis for this problem is more complicated because death sentences have three stages of review, and cases can be waiting at any of these stages.&lt;/p&gt;

&lt;p&gt;$y_i$：观察到的第i个样本的等候时间；$z_i$: 最终的等待时间；$t_i$: 死刑年份。因为死刑的判决需要经历三读，在三个阶段中都可能经历等待。在此我们不对数据做解读，&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Imputation in multilevel data structures&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Imputing becomes more complicated with clustered data. Suppose, for instance, that we have individual-level observations on children grouped within schools (for instance, test scores and demographics), and then measurements pertaining to the schools themselves (for instance, school policies and characteristics such as public versus private). We would not want to impute on a standard individual-level dataset where the school-level measurements are just repeated over each individual in the same school because, if a given school measurement is missing, such an approach would not be likely to impute the same value of this variable for each member of the group (as it should).&lt;/p&gt;

&lt;p&gt;插值在聚类数据中非常复杂。比如说，我们手头上有个人层面的分组观测值，按照分数和人口地理学特征分类的学校中的孩子的状况。这些测量指标与学校本身有非常大的相关性(因为不同的学校政策和特征差别很大：公立学校和私立学校)。我们不太想&lt;/p&gt;

&lt;p&gt;如果某一个给定的学校的测量值缺失了，那么这种办法就不太可能使我们针对群组中的每一个个人插同样的值。&lt;/p&gt;

&lt;p&gt;Our general advice in this situation is to create two datasets, one with only individual-level data, and one with group-level data and do separate imputations within each dataset while using results from one in the other (perhaps iterating back and forth). For instance, one could first impute individual-level variables using individual-level data and observed group-level measurement. Then in the group-level dataset one could include aggregated forms of the individual-level measurements when imputing missingness at this level.&lt;/p&gt;

&lt;p&gt;一般而言，在这种情况下，我们的建议是将数据分为两部分，一部分是个人层面的数据，另一部分是群组层面的数据，分别对两个数据集插值，并使用一个数据集中的&lt;strong&gt;来回迭代&lt;/strong&gt;。比方说，我们可以首先利用个人层面的数据和观测到的群组层面的测量值，插入个人层面的变量。然后在群组层面的数据集中，我们可以插入个人层面的加总数据。&lt;/p&gt;

&lt;h4 id=&quot;combining-inferences-from-multiple-imputations&quot;&gt;Combining inferences from multiple imputations&lt;/h4&gt;

&lt;p&gt;Rather than replacing each missing value in a dataset with one randomly imputed value, it may make sense to replace each with several imputed values that reflect our uncertainty about our imputation model. For example, if we impute using a regression model we may want our imputations to reflect not only sampling vari- ability (as random imputation should) but also our uncertainty about the regression coefficients in the model. If these coefficients themselves are modeled, we can draw a new set of missing value imputations for each draw from the distribution of the coefficients.&lt;/p&gt;

&lt;p&gt;Multiple imputation does this by creating several (say, five) imputed values for each missing value, each of which is predicted from a slightly different model and each of which also reflects sampling variability. How do we analyze these data? The simple idea is to use each set of imputed values to form (along with the observed data) a completed dataset. Within each completed dataset a standard analysis can be run. Then inferences can be combined across datasets.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Adpated From&lt;/strong&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;em&gt;Data Analysis Using Regression and Multilevel/Hierarchical Models&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&quot;footnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot;&gt;
      &lt;p&gt;压缩文件夹解压后请选择 &lt;a href=&quot;http://www.stat.columbia.edu/~gelman/arm/examples/ARM_Data.zip&quot;&gt;SIS&lt;/a&gt; &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot;&gt;
      &lt;p&gt;Lurking variable: if a variable is associated with X and has an effect on Y, but not included in the study, it will cause confounding and become a lurking variable. &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        <pubDate>Mon, 14 Jan 2019 01:32:24 -0500</pubDate>
        <link>http://localhost:4000/2019/01/Missing-data-mean-imputation/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/01/Missing-data-mean-imputation/</guid>
        
        
      </item>
    
      <item>
        <title>Classical sociology theory</title>
        <description>&lt;h2 id=&quot;1&quot;&gt;&lt;center&gt;1&lt;/center&gt;&lt;/h2&gt;

&lt;p&gt;It may be strange to be offering an exposition of the ideas of Marx, Weber and Durkheim in an era when, so it is argued by some in the discpline, the ‘grand narratives’ of thought, as Lyotard (1984) terms overarching theoretical schemes, have lost their validity. New identities, new forms of knowledge, new patterns of social relationships, new sources of division and more, are all forcing a break, it is claimed that, with a past shaped by modes of thought originating over three hundred years ago during the Enlightenment. Marx, Weber and Durkheim are Victorian scholars and it is perhaps hard to grasp that they have anything of relevance to say to a world which has dramatically changed since their time.&lt;/p&gt;

&lt;p&gt;Of course, there has been a prominent strand in sociological thought which is sensitive to the idea that the world and/or the discipline are both in an impending state of crisis. Indeed, a strong case can be made that such a sense was critical in the very formation of the discipline in the early nineteenth century as industrialism began to effect major changes in patterns of life throughout Europe. Later in that century, a young French Philosohy teacher was particular concerned with what he saw as the growing instability of social life. Long-estabilished values and ways of life seemed to be breaking down as industrialization and urbanization transformed the society of his day. Where once the authority of church and monarchy had gone unquestioned, there now seemed to be &lt;u&gt;no authority which could hold society together&lt;/u&gt;.&lt;/p&gt;

&lt;h4 id=&quot;1---questions&quot;&gt;1  	Questions&lt;/h4&gt;

&lt;p&gt;Historically speaking, the study of sociology theories is usually segmented as two epochs. Classical era, which starts from &lt;strong&gt;Comte&lt;/strong&gt;,  contains some of the most influential figures, such as Marx, Max Weber and Durkheim. It is not until the rise of Chicago School and some other scholars do the sociology step into the second phase. There are often some questions about the classical times and concerns on society transformation, in transiting from obeying majesty in every aspects to resiting authority, how do people unite together? How can they have a consistent or uniform values for making the society stable?&lt;/p&gt;

&lt;h4 id=&quot;2---transition&quot;&gt;2  	Transition&lt;/h4&gt;

&lt;p&gt;From pieces of works from Durkheim, we see the notivation of sociological thinking is not only drawn from a sense of impending crisis, but also originates from a formulation of what is, with strong justification, the central question of sociology itself, namely: &lt;strong&gt;how is social order possible?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;mIt is perhaps to Marx, Weber and Durkheim we owe the greatest debt for the most systematic attempts to set out just how the question might be addressed. Their ideas are of enduring concern and relevance.&lt;/p&gt;

&lt;p&gt;When post-structunists told us that we need to abandon ‘meta narratives’, that is, the great theoretical schemes which attempt to comprehend &lt;strong&gt;vast tracts&lt;/strong&gt; of reality, we also heard echos from Weber saying such schemes are indeed unsustainable, these knowledge contained is limited, provisional and they are  generated from just in some particular point of view.&lt;/p&gt;

&lt;h4 id=&quot;3-durkheim&quot;&gt;3	Durkheim&lt;/h4&gt;

&lt;p&gt;Employers and workers confronted each other with undisguised hostility, rates of crime were rising and individuals tend to see each other simply as means to achiveve their own selfish ends. Suicides, too, were increasing as the old links to family and community grew weaker. The young Frenchman, says one commentator, was ‘haunted by the thought that modern society … was a fragile affair, a potentially unstable mix of elements that was always on the verge of dissolving into chaos’. His writings were an effort to try to understand how this state of affairs  had risen so that it could be put right, stressing the ‘urgency of this task, as though he saw himself in a race against time with the gathering forces of &lt;strong&gt;anarchy&lt;/strong&gt;’. The worried young thinker was Emile Durkheim, who addressed these problems in his first major work, &lt;em&gt;on the Division of Labour in Society&lt;/em&gt;, published in 1893.&lt;/p&gt;

&lt;p&gt;As we shall all see that, Functionalism fundamentally reflects thoughts of Durkheim whose assumptions are about nature of sociology and social life. It is Durkheim who &lt;strong&gt;pioneered the use of quantitative analysis&lt;/strong&gt;, using statistical analysis to enhance the role of socioogy as a rigorous science compared with speculations and impressions adopted by other social thinkers before him.&lt;/p&gt;

&lt;h4 id=&quot;4--marx&quot;&gt;4 	Marx&lt;/h4&gt;

&lt;p&gt;Widely regarded as ‘founding fathers’ of sociology, indeed, it would be hard to underestimate the influence of Marx in fields such as social stratification and mobility, education, political economy, the state, ideaology, culture and media among others. Even non-marxist sociologists have been using the approaches of class analysis, repeatedly presenting concepts such as class consiousness, and alienation, in ways are clearly derived from marx’s writings.&lt;/p&gt;

&lt;h4 id=&quot;5-max-weber&quot;&gt;5	Max Weber&lt;/h4&gt;

&lt;p&gt;Weber was no less commited to the development of sociology. He expressed concerns for the validity of viewing the societies as structures, as wholes which had properties independent of elements which composed of them. He also inaugurated a &lt;strong&gt;tradition of ‘interpretative’ sociology&lt;/strong&gt; which takes human individuals, their ideas and their actions, as the starting point for sociological analysis. Weber’s rather pessimistic conclusions about the future industrilised, rationalized modern societies have echoed throughout the years, notably in the work of the Frankfurt School of critical theorists, such as Adorno, Maruse, Horkheimer and others, more recently, in the thought of &lt;strong&gt;habermas&lt;/strong&gt;, widely regarded as their intellectual heir.&lt;/p&gt;

&lt;h4 id=&quot;6---counterparts&quot;&gt;6  	Counterparts&lt;/h4&gt;

&lt;p&gt;It is important, to bear in mind, that there are other scholars also have the same contribution like these three thinkers, figures such as &lt;strong&gt;Pareto, Spencer&lt;/strong&gt; were influential in their day even if they are uncelebrated now. By contrast &lt;strong&gt;Georg Simmel&lt;/strong&gt; and &lt;strong&gt;George Herbert Mead&lt;/strong&gt; are begining to attract more attention than before.&lt;/p&gt;

&lt;p&gt;The idea should be resisted that the trinity of Marx, Weber and Durkheim are the only ones who created sociology. It is not individuals who create forms of society, Durkheim argued, but forms of society which created individuals.&lt;/p&gt;

&lt;p&gt;Individuals can never be simplified as puppets whose strings were pulled by invisible social forces, Weber wished to preserve the idea of the autonomous individual, nevertheless he insisted that the actions and beliefs can only be understood by taking account of specific cultural characteristics of social context.&lt;/p&gt;

&lt;p&gt;Indeed one fundamental task of modern sociology is to &lt;strong&gt;reconcile the individual and the social&lt;/strong&gt;, the person and the cultural, individual action and social structures.&lt;/p&gt;

&lt;h4 id=&quot;7--criticism&quot;&gt;7 	Criticism&lt;/h4&gt;

&lt;p&gt;In 1992, the new republican published an article called &lt;em&gt;The oldest Dead White European Males&lt;/em&gt; by Knox, which ironically criticized preoccupations in western society. The canon, which governs the common thinking way in the western world, affects deeply for understanding of contemporarysociety and social life. This trap which is named as Dead White European Males, in short &lt;strong&gt;DWEM&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;It is also shown that none of these scholars, not even Marx, could pass contemporary tests of ‘&lt;strong&gt;political correctness’&lt;/strong&gt;. We take the view, however, this does not invalidate their sociological ideas. For example, Marx and Engles, also have some ideas which can be linked with the contemporary critique of patriarchal society on the way in which capitalism depends on the unpaid but essential domestic work of women, or their reduction to status of property in the context of &lt;strong&gt;bourgeois&lt;/strong&gt; family life.&lt;/p&gt;
</description>
        <pubDate>Sat, 05 Jan 2019 01:32:24 -0500</pubDate>
        <link>http://localhost:4000/2019/01/Classical-soc-theory/</link>
        <guid isPermaLink="true">http://localhost:4000/2019/01/Classical-soc-theory/</guid>
        
        
      </item>
    
      <item>
        <title>Titanic</title>
        <description>&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;# Load packages
library(tidyverse)
library(formattable)
library(gmodels)

&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;import-web-based-api&quot;&gt;Import web-based API&lt;/h2&gt;
&lt;p&gt;All web-based 2 APIs have always the same structure:
they consist of a URL to a domain and a path to an endpoint.
For instance: http://example.com/api where http://example.com is the URL and /api is the path to the endpoint.
In recent years, JSON has become the most common answer format by far. JSON is a simple text file that uses special characters and conventions to bring structure into its contents.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;train_raw = read_csv(&quot;./data/train.csv&quot;)
test_df = read_csv('data/test.csv')
skimr::skim(train_raw)
skimr::skim(test_df)

# identify count of NAs in data frame
sum(is.na(train_raw))
sum(is.na(test_df))

## For data frames, a convenient shortcut to compute the total missing values in each column is to use colSums():

colSums(is.na(train_raw))
colSums(is.na(test_df))

## head of data, formatted   
formattable(head(train_raw)) ## In python: sns.set_style('whitegrid')

train_df  = train_raw %&amp;gt;%
  janitor::clean_names() %&amp;gt;%
  mutate(survived = as.factor(survived))
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;There are in total &lt;code class=&quot;highlighter-rouge&quot;&gt;nrow(train_raw )&lt;/code&gt; passengers on the list, while the missing values in total are &lt;code class=&quot;highlighter-rouge&quot;&gt;sum(is.na(train_df))&lt;/code&gt; and sum(is.na(test_df)) respectively.&lt;/p&gt;

&lt;p&gt;Actually, with a closer look at the data, we can find missing values mainly fall into the category of
&lt;code class=&quot;highlighter-rouge&quot;&gt;Cabin&lt;/code&gt; and ` Age&lt;code class=&quot;highlighter-rouge&quot;&gt;, few are in &lt;/code&gt;Embarked ` in train dataframe, 1 in &lt;code class=&quot;highlighter-rouge&quot;&gt;Fare &lt;/code&gt; in test_df.&lt;/p&gt;

&lt;h2 id=&quot;descriptive-statistics&quot;&gt;Descriptive statistics&lt;/h2&gt;
&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;## Survived
library(ggplot2)

## survival: 0 = No, 1 = Yes
ggplot(train_df, aes(x = survived, stat = &quot;count&quot;)) +
  geom_bar(aes(fill = sex), width = 0.7) +
  coord_flip() +
  theme(legend.position = &quot;top&quot;) +
  theme_bw() +
  scale_x_discrete(labels = c(&quot;No&quot;,&quot;Yes&quot;)) +
  ggtitle(&quot;Survived profile of Titanic passengers&quot;)

&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&quot;dealing-with-missing-value&quot;&gt;Dealing with missing value&lt;/h3&gt;
&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;require(randomForest)
## 1. Assign mode value for missing Embarked rows
train_df = train_df %&amp;gt;%
  mutate(embarked = ifelse(is.na(embarked), mode(embarked), embarked)) %&amp;gt;%
## 2. Cabin: assign NA mark for missing entries
  mutate(cabin = ifelse(is.na(cabin), 'u0', cabin))
## 3. Age: an important indicator for prediction, use RandomForest


## choose training data to predict age
age_df = train_raw %&amp;gt;%
  select('Age','Survived','Fare', 'Parch', 'SibSp', 'Pclass')

age_df_notnull =  age_df %&amp;gt;%
  filter( is.na(Age) == F )

age_df_isnull = age_df %&amp;gt;%
  filter( is.na(Age) == T )

# Use RandomForestRegression to train data
RFR = randomForest(
  formula = Age ~ .,
  data  = age_df_notnull)

pred.Age = predict(RFR , age_df_isnull)

## Insert the predicted value for Ages
train_df = train_df %&amp;gt;%
  mutate(age = ifelse(is.na(age), pred.Age, age))

sum(is.na(train_df))
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;data-analysis&quot;&gt;Data analysis&lt;/h2&gt;

&lt;h4 id=&quot;1-lady-first-principle&quot;&gt;(1). &lt;strong&gt;Lady First&lt;/strong&gt; principle&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;## cross tables
corr_df = train_df %&amp;gt;%
  mutate(sex = ifelse(sex == &quot;female&quot;, 0, 1)) %&amp;gt;%
  select(survived, pclass, sex, age, sib_sp, parch, fare)

with(train_df, CrossTable(sex, survived))

&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&quot;2-ticket-class-and-survival-rate-pclass&quot;&gt;(2) Ticket class and survival rate: Pclass&lt;/h4&gt;

&lt;pre&gt;&lt;code class=&quot;language-{r}&quot;&gt;## 1 = 1st, 2 = 2nd, 3 = 3rd
with(train_df, CrossTable( pclass, survived))

## survival: 0 = No, 1 = Yes

ggplot(train_df, aes(x = as.factor(pclass), stat = &quot;count&quot;)) +
  geom_bar(aes(fill = survived), width = 0.7) +
  theme(legend.position = &quot;top&quot;) +
  theme_bw() +
  scale_x_discrete(labels = c(&quot;1st&quot;,&quot;2nd&quot;, &quot;3rd&quot;)) +
  xlab(&quot;passenger classes&quot;)  +
  ggtitle(&quot;Distribution of survival rate among 3 classes on Titanic&quot;)

&lt;/code&gt;&lt;/pre&gt;
</description>
        <pubDate>Sun, 30 Dec 2018 01:32:24 -0500</pubDate>
        <link>http://localhost:4000/2018/12/Titanic-R/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/12/Titanic-R/</guid>
        
        
      </item>
    
  </channel>
</rss>
